<%- include('../partails/header') -%>
    <%- include('../partails/navbar') -%>
        <%- include('../partails/flashMessage') -%>
            <%- include('../partails/flashMessageLogin') -%>
                <div class="container-Slider">
                    <div class="item">
                        <div class="quote">
                            <a class="Slider-link" href="#product">I am Groot.<span>Groot</span></a>
                        </div>
                    </div>
                    <div class="item">
                        <div class="quote">
                            <a class="Slider-link" href="#product">You'r the head of security and your password is
                                'password'&nbsp;?<span>Peter Parker</span></a>
                        </div>
                    </div>
                    <div class="item">
                        <div class="quote">
                            <a class="Slider-link" href="#product">That really is America's ass.<span>Captain
                                    America</span></a>
                        </div>
                    </div>
                    <div class="item">
                        <div class="quote">
                            <a class="Slider-link" href="#product">The hardest choices require the strongest
                                wills.<span>Thanos</span></a>
                        </div>
                    </div>
                    <div class="item">
                        <div class="quote">
                            <a class="Slider-link" href="#product">Buy Our New Laptop To Be life Faster<span>Tony
                                    Stark</span></a>
                        </div>
                    </div>
                    <div class="item">
                        <div class="quote">
                            <a class="Slider-link" href="#product">We never lose our demons. We only learn to live above
                                them.<span>Ancient One</span></a>
                        </div>
                    </div>
                </div>




                <br>

            <!-- Category Filter Section -->
            <div class="container py-5">
                <!-- Animated card-like container for the entire filter section -->
                <div class="filter-card p-4 shadow-sm rounded-4 bg-white animate__animated animate__fadeInUp">
            
                    <!-- Section title with separator and subtle fade-in effect -->
                    <h2 class="text-center mb-4 fw-bold text-dark">Browse by Category</h2>
                    <div class="separator mx-auto mb-4"></div>
            
                    <!-- Search bar and category buttons container -->
                    <form method="GET" action="/" class="d-flex flex-column align-items-center">
            
                        <!-- Search input with flex alignment -->
                        <div class="search-bar d-flex align-items-center mb-4 w-100" style="max-width: 500px;">
                            <input type="text" class="form-control search-input rounded-3 me-2" placeholder="Search categories..."
                                name="search" style="flex: 1; border: 1px solid #ced4da; padding: 13px;">
                            <button type="submit" class="btn btn-outline-dark">
                                <i class="fa fa-search" style=" padding: 10px;"></i>
                            </button>
                        </div>
            
                        <!-- Category buttons section -->
                        <div class="category-buttons d-flex flex-wrap justify-content-center gap-3 w-100">
            
                            <!-- Button for 'All Products' -->
                            <button type="submit" name="category" value=""
                                class="btn btn-category d-flex align-items-center justify-content-center px-3 py-2 rounded-3 text-white bg-dark border-0">
                                <i class="fas fa-th-large me-2"></i> All Products
                            </button>
            
                            <!-- Dynamic buttons for each category -->
                            <% categories.forEach(function(category) { %>
                                <button type="submit" name="category" value="<%= category._id %>"
                                    class="btn btn-category d-flex align-items-center justify-content-center px-3 py-2 rounded-3 bg-light border text-dark">
                                    <i class="fas fa-tag me-2"></i>
                                    <%= category.title %>
                                </button>
                                <% }); %>
                        </div>
                    </form>
                </div>
            </div>
                        <!-- Additional Styling for Category Filter Section with Animations -->
                        <style>
                            /* Background styling for the main filter card */
                            .filter-card {
                                max-width: 800px;
                                margin: 0 auto;
                                border: 1px solid #e0e0e0;
                                background: #f9fafb;
                                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
                            }

                            /* Section title separator styling */
                            .separator {
                                width: 50px;
                                height: 4px;
                                background: #007bff;
                                border-radius: 2px;
                            }

                            /* Button styles for category buttons with animation and hover effects */
                            .btn-category {
                                border-radius: 25px;
                                padding: 12px 25px;
                                background: #f8f9fa;
                                color: #007bff;
                                font-weight: 600;
                                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                                transition: all 0.3s ease, transform 0.2s ease;
                                display: flex;
                                align-items: center;
                                position: relative;
                                overflow: hidden;
                            }

                            .btn-category i {
                                font-size: 1.2rem;
                                color: #007bff;
                                transition: transform 0.3s ease;
                            }

                            .btn-category:hover {
                                background: linear-gradient(135deg, #6f42c1, #007bff);
                                color: #fff;
                                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
                                transform: translateY(-3px);
                            }

                            .btn-category:hover i {
                                transform: rotate(20deg) scale(1.2);
                            }

                            .btn-category:focus {
                                outline: none;
                                box-shadow: 0 4px 12px rgba(0, 123, 255, 0.5);
                            }

                            /* Responsive styling for mobile screens */
                            @media (max-width: 576px) {
                                .btn-category {
                                    font-size: 0.9rem;
                                    padding: 10px 15px;
                                    flex-basis: 100%;
                                    text-align: center;
                                }
                            }
                        </style>

                        <!-- Product Display Section -->
                        <% chunk.forEach(function(row) { %>
                            <div class="container py-5">
                                <div class="row g-4">
                                    <% row.forEach(function(product) { %>
                                        <div class="col-sm-6 col-md-4 d-flex" id="product">
                                            <!-- Product Card with Hover and Entrance Effect -->
                                            <a href="<%= '/product/' + product._id %>"
                                                class="w-100 text-decoration-none text-dark d-flex flex-column h-100">
                                                <div class="product-card card shadow-sm border-0 h-100">
                                                    <!-- Product Image with Hover Zoom Effect -->
                                                    <div
                                                        class="position-relative overflow-hidden product-img-container">
                                                        <img src="<%= product.imageProduct %>"
                                                            class="card-img-top img-fluid product-img"
                                                            alt="<%= product.titleProduct %>">
                                                    </div>
                                                    <!-- Product Info -->
                                                    <div class="card-body d-flex flex-column">
                                                        <div class="text-center">
                                                            <h5 class="card-title font-weight-bold">
                                                                <%= product.titleProduct %>
                                                            </h5>
                                                            <p class="card-text text-muted">
                                                                <%= product.descriptionProduct %>
                                                            </p>
                                                        </div>
                                                        <div
                                                            class="d-flex justify-content-between align-items-center mt-3">
                                                            <span class="fw-semibold">
                                                                <%= product.titleProduct %>
                                                            </span>
                                                            <span class="text-primary fw-bold">$<%= product.priceProduct
                                                                    %>
                                                            </span>
                                                        </div>
                                                        <!-- Add to Cart Button -->
                                                        <div class="text-center mt-auto">
                                                            <button
                                                                onclick="window.location.href='<%= '/product/' + product._id %>'"
                                                                type="button"
                                                                class="btn btn-primary rounded-pill px-4 mt-3 add-to-cart-btn">
                                                                <i class="fas fa-shopping-cart me-2"></i>Add to Cart
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </a>
                                        </div>
                                        <% }); %>
                                </div>
                            </div>
                            <% }); %>
                                <style>
                                    /* Initial state for the scroll animation */
                                    .product-card {
                                        opacity: 0;
                                        transform: translateY(30px);
                                        transition: opacity 0.6s ease, transform 0.6s ease;
                                    }

                                    /* Class to apply when the product is in view */
                                    .product-card.animate {
                                        opacity: 1;
                                        transform: translateY(0);
                                    }

                                    /* Product Card Hover Effect */
                                    .product-card:hover {
                                        transform: translateY(-5px) scale(1.02);
                                        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
                                    }

                                    /* Product Image Hover Zoom and Rotation */
                                    .product-img-container {
                                        overflow: hidden;
                                        position: relative;
                                        border-top-left-radius: 15px;
                                        border-top-right-radius: 15px;
                                    }

                                    .product-img {
                                        transition: transform 0.4s ease;
                                    }

                                    .product-card:hover .product-img {
                                        transform: scale(1.1) rotate(2deg);
                                    }

                                    /* Styling for Card Elements */
                                    .card {
                                        border-radius: 15px;
                                        overflow: hidden;
                                        background-color: #f8f9fa;
                                    }

                                    .card-title {
                                        font-size: 1.2rem;
                                        color: #343a40;
                                    }

                                    .card-text {
                                        font-size: 0.9rem;
                                        color: #6c757d;
                                    }

                                    /* Add to Cart Button Styling */
                                    .add-to-cart-btn {
                                        background: linear-gradient(135deg, #007bff, #0056b3);
                                        color: #fff;
                                        font-weight: bold;
                                        transition: background 0.3s ease, box-shadow 0.3s ease;
                                    }

                                    .add-to-cart-btn:hover {
                                        background: linear-gradient(135deg, #0056b3, #003d80);
                                        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
                                    }

                                    /* Responsive Adjustments */
                                    @media (max-width: 576px) {
                                        .card-title {
                                            font-size: 1rem;
                                        }

                                        .card-text {
                                            font-size: 0.85rem;
                                        }
                                    }
                                </style>
                                <%- include('../partails/footer') -%>